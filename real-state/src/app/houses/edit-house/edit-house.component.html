<html>
  <body>
    <div *ngIf="house !== undefined">
      <form #f="ngForm" (ngSubmit)="updateHouse(f.value)">
        <h1>Edit house information</h1>

        <div class="contentform">
          <div class="leftcontact">
            <div class="form-group">
              <p>Registration Number <span>*</span></p>
              <span class="icon-case"><i class="fa fa-male"></i></span>
              <input
                type="text"
                name="registrationNumber"
                id="registrationNumber"
                required
                minlength="5"
                maxlength="5"
                pattern="^[1-9][0-9]*$"
                #ID="ngModel"
                [(ngModel)]="house.registrationNumber"
              />
              <div class="alert" *ngIf="ID.invalid && (ID.dirty || ID.touched)">
                <div *ngIf="ID.errors?.required">
                  Registration number is required!
                </div>
                <div *ngIf="ID.errors?.minlength">
                  Registration number must be 5
                </div>
                <div *ngIf="ID.errors?.pattern">pattern does not match</div>
              </div>
            </div>

            <div class="form-group">
              <p>style <span>*</span></p>
              <span class="icon-case"><i class="fa fa-user"></i></span>
              <select
                class="combo"
                name="style"
                id="style"
                required
                [(ngModel)]="house.style"
              >
                <option
                  value="apartment"
                  [selected]="house.style === 'apartment'"
                >
                  Apartment
                </option>
                <option value="house" [selected]="house.style === 'house'">
                  House
                </option>
              </select>
              <div class="validation"></div>
            </div>

            <div class="form-group">
              <p>type <span>*</span></p>
              <span class="icon-case"><i class="fa fa-phone"></i></span>
              <select
                class="combo"
                name="type"
                id="type"
                required
                [(ngModel)]="house.type"
              >
                <option value="residential">Residential</option>
                <option value="commercial">Commercial</option>
                <option value="office">Office</option>
              </select>
              <div class="validation"></div>
            </div>

            <div class="form-group">
              <p>status <span>*</span></p>
              <span class="icon-case"><i class="fa fa-phone"></i></span>
              <select
                class="combo"
                name="status"
                id="status"
                required
                [(ngModel)]="house.status"
              >
                <option value="sale">Sale</option>
                <option value="rent">Rent</option>
              </select>
              <div class="validation"></div>
            </div>
          </div>

          <div class="rightcontact">
            <div class="form-group">
              <p>Year Built <span>*</span></p>
              <span class="icon-case"><i class="fa fa-building-o"></i></span>
              <input
                type="text"
                name="yearBuilt"
                id="yearBuilt"
                required
                pattern="^([1][9][9][8,9])|([2][0]([0,1][0-9]|[2][0-2]))$"
                #year="ngModel"
                [(ngModel)]="house.yearBuilt"
              />
              <div
                class="alert"
                *ngIf="year.invalid && (year.dirty || year.touched)"
              >
                <div *ngIf="year.errors?.required">
                  bulited year is required!
                </div>
                <div *ngIf="year.errors?.pattern">between (1998-2022)</div>
              </div>
            </div>
            <div class="form-group">
              <p>size <span>*</span></p>
              <span class="icon-case"><i class="fa fa-envelope-o"></i></span>
              <input
                type="number"
                name="size"
                id="size"
                required
                pattern="^(([1-5][0-9][0-9])|([5-9][0-9]))$"
                #size="ngModel"
                [(ngModel)]="house.size"
              />
              <div class="validation"></div>
            </div>

            <div class="form-group">
              <p>address <span>*</span></p>
              <span class="icon-case"><i class="fa fa-comments-o"></i></span>
              <textarea
                name="address"
                rows="14"
                required
                #address="ngModel"
                [(ngModel)]="house.address"
              ></textarea>
              <div
                class="alert"
                *ngIf="address.invalid && (address.dirty || address.touched)"
              >
                Address is required!
              </div>
            </div>

            <div class="form-group">
              <p>Edtior <span>*</span></p>
              <span class="icon-case"><i class="fa fa-phone"></i></span>
              <select
                class="combo"
                name="editor"
                id="editor"
                required
                [(ngModel)]="house.editor"
              >
                <option
                  *ngFor="let account of accounts"
                  value="{{ account.username }}"
                >
                  {{ account.username }}
                </option>
              </select>
              <div class="validation"></div>
            </div>
          </div>
        </div>
        <button [disabled]="f.invalid" type="submit" class="bouton-contact">
          Submit
        </button>
      </form>
    </div>
  </body>
</html>
